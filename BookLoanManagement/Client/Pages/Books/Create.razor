@page "/books/create/"

@inject HttpClient _client
@inject NavigationManager _navManager


<h3 class="card-title">Create New Book</h3>
<hr />
<br />

<FormComponent ButtonText="Create Book" OnValidSubmit="@CreateBook" book="book" />


@code {
    Book book = new Book();


    private async Task CreateBook()
    {
        // Pass all related data to Api to create the book object
        await _client.PostAsJsonAsync(Endpoints.BooksEndpoint, book);
        // return to the book list page
        _navManager.NavigateTo("/books/");
    }
}